<style>
    .md-datepicker-calendar-pane {
        z-index: 9999 !important;
    }
</style>
<div class="modal fade" id="addPoInvoice" role="dialog" data-backdrop="static" data-keyboard="false" aria-hidden="true">
    <form ng-submit="addPoInvoice.$valid && savePurchaseInvoice()" novalidate name="addPoInvoice" accessible-form >
        <div class="modal-content">
            <div class="modal-header" style="background-color: #F2F7F8; padding-bottom: 0px !important;"
                 height="100px">
                <button id="POInvCancel1" type="button" class="close" ng-click="cancelPurchaseInvoice()">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>

                <p ng-if="invoiceMode=='add'" class="dialog-heading-p">Add Purchase Invoice</p>
                <p ng-if="invoiceMode=='edit'" class="dialog-heading-p">Edit Purchase Invoice</p>
            </div>

            <div class="modal-body">
                <div class="full-width">
                    <div class="col-md-12">
                        <div class="col-lg-12 text-right no-padding bg-faded">
                            <div class="full-width">
                                <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12" style="padding-left: 0px;">
                                    <div class="full-width">
                                        <div class="col-md-3 ">
                                            <span class="semi-bold-text">Vendor</span>
                                        </div>
                                        <div class="col-md-8">
                                            <span>{{singleorderData.tableVendor.tableVendorName}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12" style="padding-left: 0px;">
                                    <div class="full-width">
                                        <div class="col-md-5 no-padding">
                                            <span class="semi-bold-text">Vendor Address </span>
                                        </div>
                                        <div class="col-md-7" ng-if="singleorderData.tableAddress != null">
                                            <span>{{singleorderData.tableAddress.tableAddressFull}}</span>
                                        </div>
                                        <div class="col-md-7" ng-if="singleorderData.tableAddress == null">
                                            <select id="POInvVAddress" ng-model="tablePurchaseInvoice.tableAddressByTablePurchaseInvoiceVendorAddressId"
                                                    name="vendoraddress"
                                                    ng-options="option.tableAddressFull for option in deliveryAddressArray track by option.idtableAddressId"
                                                    class="form-control add-single-order-select">
                                                <option value="" disabled selected style="display: none;">Select Vendor
                                                    Address
                                                </option>

                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12" style="padding-left: 0px;">
                                    <div class="full-width">
                                        <div class="col-md-5 no-padding">
                                            <span class="semi-bold-text">Shipping Address</span>
                                        </div>
                                        <div class="col-md-7">
                                            <span>{{singleorderData.tableWarehouseDetails.tableAddress.tableAddressFull}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12" style="padding-left: 0px;">
                                    <div class="full-width">
                                        <div class="col-md-5 no-padding">
                                            <span class="semi-bold-text">Billing Address </span>
                                        </div>
                                        <div class="col-md-7">
                                            <span>{{singleorderData.tableWarehouseDetails.tableAddress.tableAddressFull}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr class="full-width">
                            <div class="full-width">
                                <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12" style="padding-left: 0px;">
                                    <div class="full-width">
                                        <div class="col-md-5 no-padding margin-top-7 text-center">
                                            <span class="semi-bold-text">Invoice Number <span class="label-red">*</span></span>
                                        </div>
                                        <div class="col-md-7 margin-top-7">
                                            <input type="text" id="POInvNo"
                                                   class="form-control main-bottom-border padding-top-3"
                                                   ng-model="tablePurchaseInvoice.tablePurchaseInvoiceNumber">

                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12" style="padding-left: 0px;">
                                    <div class="full-width">
                                        <div class="col-md-5 text-center no-padding margin-top-7">
                                            <span class="semi-bold-text">Select Date <span class="label-red">*</span></span>
                                        </div>
                                         <div class="col-md-7 no-padding-left">
                                        <md-datepicker id="POInvDate" timezoned-date ng-model="tablePurchaseInvoice.tablePurchaseInvoiceDateTime"
                                                       md-max-date="startmaxDate"
                                                       onkeydown="return false"
                                                       md-placeholder="Invoice Date"
                                                       style="background-color: inherit;margin-top:3px;"></md-datepicker>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12" style="padding-left: 0px;" ng-if="clientInvoice">
                                    <div class="full-width">
                                        <div class="col-md-12 text-left margin-top-7 ">
                                        <span class="semi-bold-text">
                                            <md-checkbox id="POInvCheckbox1"
                                                    ng-model="tablePurchaseInvoice.tablePurchaseInvoiceIsTaxInclusive" aria-label="Enable">
                                            </md-checkbox> Tax Inclusive
                                        </span>
                                    </div>
										

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 no-padding margin-top-5" ng-if="clientInvoice">
                            <span class="semi-bold-text" ng-if="invoiceMode=='add'">
                                            <md-checkbox id="POInvCheckbox2"
                                                    ng-model="genericData.autofill"
                                                    aria-label="Enable"
                                                    ng-change="onAutoFillChanged()">
                                            </md-checkbox> Autofill
                                        </span>
                            <a title="Add invoice line item" href="javascript:void(0);" id="POInvALI"
                               style="margin-bottom: 10px;" class="btn btn-default btn-sm btn-line-item pull-right"
                               ng-click="addPurchaseInvoiceLineElement()">Add Line Item</a>
                        </div>
                        <table id="productTable" ng-if="clientInvoice"
                               class="table boldtable table-responsive table-bordered table-hover invoiceTable">
                            <thead class="data-grid-header">
                            <tr>
                                <th id="POInvSQtyH" class="text-center">&nbsp;&nbsp;Qty</th>
                                <th id="POInvSSkuH" class="text-center">&nbsp;&nbsp;SKU</th>
                                <th id="POInvSDescH" class="text-center">&nbsp;&nbsp;Description</th>
                                <th id="POInvSGrossH" class="text-center" title="Per Unit Price * Quantity">&nbsp;&nbsp;Gross</th>
                                <th id="POInvSDscntH" class="text-center">&nbsp;&nbsp;Discount</th>
                                <th id="POInvSNAH" class="text-center">&nbsp;&nbsp;Net Amount</th>
                                <th id="POInvSTTH" class="text-center">&nbsp;&nbsp;Tax Type</th>
                                <th id="POInvSTRH" class="text-center">&nbsp;&nbsp;Tax Rate</th>
                                <th id="POInvSTAH" class="text-center">&nbsp;&nbsp;Tax Amount</th>
                                <th id="POInvSActionH" class="text-center">&nbsp;&nbsp;Action</th>
                            </tr>
                            </thead>
                            <tbody class="data-grid-data invoiceDataTableBody">
                            <tr ng-repeat-start="item in tableInvoiceLineItems track by $index" ng-init="invoielineitemindex=$index">
                                <td id="POInvSQty{{$index}}">
                                    <ng-form name="skuquantityform">
                                        <input type="text"
                                               name="skuquantity"
                                               required id="POInvSQty{{$index}}Qty"
                                               class="form-control main-bottom-border-number padding-top-3 margin-top-2"
                                               only-integer
                                               ng-model="item.tableInvoiceLineItemSkuQuantity">
                                        <div ng-show="addPoInvoice.$submitted && skuquantityform.skuquantity.$error.required" class="col-md-offset-3 col-md-9">
                                            <span class="error-message">
                                                Required
                                            </span>
                                        </div>

                                    </ng-form>

                                </td>
                                <td id="POInvSSku{{$index}}">
                                    <angucomplete-alt ng-class="{submitted: isProductSelected}" id="searchsku{{invoielineitemindex}}"
                                                      ng-focus="onSearchedProductForInvoiceIndexChanged(invoielineitemindex)"

                                                      placeholder="Search product" pause="400"
                                                      selected-object="searchedProductForInvoice"
                                                      remote-url="{{baseSkuUrl}}"
                                                      title-field="tableSkuClientSkuCode"
                                                      description-field="tableSkuName"
                                                      input-class="form-control main-bottom-border font  padding-top-3 margin-top-2"
                                                      image-field="tableSkuImageUrl"
                                                      initial-value="skuSelected"></angucomplete-alt>
                                </td>
                                <td id="POInvSDesc{{$index}}">
                                    <input type="text"
                                           id="skudescription{{invoielineitemindex}}"
                                           class="form-control main-bottom-border padding-top-3 margin-top-2"
                                           ng-model="item.tableSku.tableSkuDescription">
                                </td>
                                <td id="POInvSGross{{$index}}" style="padding-left: 25px;">
                                    <span ng-repeat="tableGross in item.tableGrosses track by $index" ng-if="$index == 0" ng-init="lineitemgrossindex=$index">
                                        <span class="addGrossSpan">
                                            <a id="POInvSGross{{$index}}Add" ng-if="$index == 0" title="Add more item level charges"
                                               ng-click="addMoreLineItemGross(invoielineitemindex)">
                                                +
                                            </a>
                                            <a id="POInvSGross{{$index}}Rem" ng-if="$index > 0" title="Delete item level charge"
                                               ng-click="deleteLineItemGross(invoielineitemindex,lineitemgrossindex)">
                                                -
                                            </a>
                                        </span>
                                        <input type="text" title="Per Unit Price * Quantity"
                                               class="form-control input-padding-bottom main-bottom-border-number padding-top-3 margin-top-2"
                                               price id="POInvSGross{{$index}}Price"
                                               ng-change="onLineItemDiscountChange(invoielineitemindex,lineitemgrossindex)"
                                               ng-model="tableGross.tableGrossAmount" placeholder="Gross">
                                    </span>
                                </td>
                                <td id="POInvSDscnt{{$index}}">
                                    <span ng-repeat="tableGross in item.tableGrosses track by $index" ng-if="$index == 0" ng-init="lineitemgrossindex=$index">
                                                <span class="addGrossSpan">
                                                    <a id="POInvSDscnt{{$index}}Add" title="Add more item level discount"
                                                       ng-click="addMoreDiscount(invoielineitemindex,lineitemgrossindex)">
                                                        +
                                                    </a>
                                                </span>
                                                <span style="position: relative;display: inline-block;padding-left: 15px;padding-right: 15px;"
                                                      ng-repeat="tableDiscount in tableGross.tableDiscounts track by $index"
                                                      ng-init="discountindex=$index">
                                                      <input type="text"
                                                             class="form-control input-padding-bottom main-bottom-border-number padding-top-3 margin-top-2"
                                                             price id="POInvSDscnt{{$index}}Price"
                                                             ng-change="onLineItemDiscountChange(invoielineitemindex,lineitemgrossindex)"
                                                             ng-model="tableDiscount.tableDiscountAmount"
                                                             placeholder="Discount">
                                                    <span class="deleteGrossSpan">
                                                        <a id="POInvSDscnt{{$index}}Rem" title="Delete item level discount"
                                                           ng-click="deleteDiscount(invoielineitemindex,lineitemgrossindex,discountindex)">
                                                            -
                                                        </a>
                                                    </span>
                                                </span>
                                    </span>
                                </td>
                                <td id="POInvSNA{{$index}}" >
                                    <span ng-repeat="tableGross in item.tableGrosses track by $index" ng-if="$index == 0" ng-init="lineitemgrossindex=$index">
                                        <input type="text"
                                               readonly id="POInvSNA{{$index}}NA"
                                               class="form-control main-bottom-border-number padding-top-3 margin-top-2"
                                               ng-value="(tableInvoiceLineItemNets[invoielineitemindex][lineitemgrossindex] || 0) | priceOrHyphen "
                                               placeholder="Net Amount">
                                    </span>
                                </td>
                                <td id="POInvSTT{{$index}}">
                                    <span ng-repeat="tableGross in item.tableGrosses track by $index" ng-if="$index == 0" ng-init="lineitemgrossindex=$index">
                                        <span class="addGrossSpan">
                                            <a id="POInvSTT{{$index}}Add" title="Add more item level tax"
                                               ng-click="addMoreTax(invoielineitemindex,lineitemgrossindex)">
                                                +
                                            </a>
                                        </span>
                                        <span style="position: relative; display: inline-block; padding-left: 15px;" ng-repeat="tableTax in tableGross.tableTaxes track by $index" >
                                            <input type="text" id="POInvSTT{{$index}}TT"
                                                   class="form-control input-padding-bottom main-bottom-border padding-top-3 "
                                                   ng-model="tableTax.tableTaxType"
                                                   placeholder="Tax Type">
                                        </span>
                                    </span>
                                </td>
                                <td id="POInvSTR{{$index}}">
                                    <span ng-repeat="tableGross in item.tableGrosses track by $index" ng-if="$index == 0" ng-init="lineitemgrossindex=$index">
                                        <span style="position: relative; display: inline-block; padding-left: 15px;" ng-repeat="tableTax in tableGross.tableTaxes track by $index" >
                                            <input type="text" id="POInvSTR{{$index}}TR"
                                                   class="form-control input-padding-bottom main-bottom-border-number padding-top-3 "
                                                   ng-model="tableTax.tableTaxRatePercentage"
                                                   percentage
                                                   placeholder="Tax Rate">
                                        </span>
                                    </span>

                                </td>
                                <td id="POInvSTA{{$index}}">
                                    <span ng-repeat="tableGross in item.tableGrosses track by $index" ng-if="$index == 0" ng-init="lineitemgrossindex=$index">
                                        <span style="position: relative; display: inline-block;padding-right: 25px;" ng-repeat="tableTax in tableGross.tableTaxes track by $index" ng-init="taxindex=$index">
                                            <input type="text" id="POInvSTA{{$index}}TA"
                                                   class="form-control input-padding-bottom main-bottom-border-number padding-top-3 "
                                                   price ng-change="onLineItemTaxChange()"
                                                   ng-model="tableTax.tableTaxAmount"
                                                   placeholder="Tax Amount">
                                            <span class="deleteGrossSpan">
                                                <a id="POInvSTA{{$index}}Rem" title="Delete item level tax"
                                                   ng-click="deleteTax(invoielineitemindex,lineitemgrossindex,taxindex)">
                                                    -
                                                </a>
                                            </span>
                                        </span>
                                    </span>
                                </td>
                                <td id="POInvSAction{{$index}}" style="color: #006cad;" class="text-center">
                                    <span id="POInvSAction{{$index}}DLA" style="text-align: center" title="Delete line item" class="fa fa-trash fa-lg"
                                          ng-click="deleteLineItem($index)"></span>
                                </td>
                            </tr>
                            <tr ng-repeat="tableGross in item.tableGrosses track by $index" ng-if="$index>0" ng-init="lineitemgrossindex=$index">
                                <td id="POInv1G{{$index}}"></td>
                                <td id="POInv2G{{$index}}"></td>
                                <td id="POInv3G{{$index}}">

                                    <select required
                                            name="lineitemgrosstype" ng-model="tableGross.tableGrossType"
                                            id="POInv3G{{$index}}LIG"
                                            class="darkgrey-bottom-border form-control"
                                            ng-options="option as option.tableGrossTypeString for option in itemLevelAdditionalGrossTypes track  by option.idtableGrossTypeId">
                                            <option value="" disabled selected style="display: none;">Select
                                                charge
                                            </option>
                                    </select>

                                </td>
                                <td id="POInv4G{{$index}}" style="padding-left: 25px;">
                                    <!--<span ng-repeat="tableGross in item.tableGrosses track by $index" ng-init="lineitemgrossindex=$index" ng-if="$index > 0">-->
                                        <span class="addGrossSpan">
                                            <a id="POInv4G{{$index}}ALG" ng-if="$index == 0" title="Add more item level charges"
                                               ng-click="addMoreLineItemGross(invoielineitemindex)">
                                                +
                                            </a>
                                            <a id="POInv4G{{$index}}DLG" ng-if="$index > 0" title="Delete item level charge"
                                               ng-click="deleteLineItemGross(invoielineitemindex,lineitemgrossindex)">
                                                -
                                            </a>
                                        </span>
                                        <input type="text"
                                               class="form-control input-padding-bottom main-bottom-border-number padding-top-3 margin-top-2"
                                               price id="POInv4G{{$index}}GA"
                                               ng-change="onLineItemDiscountChange(invoielineitemindex,lineitemgrossindex)"
                                               ng-model="tableGross.tableGrossAmount" placeholder="Gross">
                                    <!--</span>-->
                                </td>
                                <td id="POInv5G{{$index}}" >
                                    <!--<span ng-repeat="tableGross in item.tableGrosses track by $index" ng-if="$index>0" ng-init="lineitemgrossindex=$index">-->
                                                <span class="addGrossSpan">
                                                    <a id="POInv5G{{$index}}AMD" title="Add more item level discount"
                                                       ng-click="addMoreDiscount(invoielineitemindex,lineitemgrossindex)">
                                                        +
                                                    </a>
                                                </span>
                                                <span ng-repeat="tableDiscount in tableGross.tableDiscounts track by $index"
                                                      ng-init="discountindex=$index"
                                                      style="position: relative; display: inline-block; padding-left: 15px;padding-right: 15px;">
                                                        <input type="text"
                                                               class="form-control input-padding-bottom main-bottom-border-number padding-top-3 margin-top-2"
                                                               price id="POInv5G{{$index}}Dscnt"
                                                               ng-change="onLineItemDiscountChange(invoielineitemindex,lineitemgrossindex)"
                                                               ng-model="tableDiscount.tableDiscountAmount"
                                                               placeholder="Discount">
                                                        <span class="deleteGrossSpan">
                                                            <a id="POInv5G{{$index}}DD" title="Delete item level discount"
                                                               ng-click="deleteDiscount(invoielineitemindex,lineitemgrossindex,discountindex)">
                                                                -
                                                            </a>
                                                        </span>
                                                </span>
                                    <!--</span>-->
                                </td>
                                <td id="POInv6G{{$index}}">
                                    <input type="text"
                                           readonly id="POInv6G{{$index}}NA"
                                           class="form-control main-bottom-border-number padding-top-3 input-padding-bottom"
                                           ng-value="(tableInvoiceLineItemNets[invoielineitemindex][lineitemgrossindex] || 0) | priceOrHyphen "
                                           placeholder="Net Amount">
                                </td>
                                <td id="POInv7G{{$index}}">
                                    <span class="addGrossSpan">
                                        <a id="POInv7G{{$index}}AMT" title="Add more item level tax"
                                           ng-click="addMoreTax(invoielineitemindex,lineitemgrossindex)">
                                            +
                                        </a>
                                    </span>
                                    <span style="position: relative; display: inline-block; padding-left: 15px;" ng-repeat="tableTax in tableGross.tableTaxes track by $index" >
                                        <input type="text" id="POInv7G{{$index}}TT"
                                               class="form-control main-bottom-border padding-top-3 input-padding-bottom"
                                               ng-model="tableTax.tableTaxType"
                                               placeholder="Tax Type">
                                    </span>
                                </td>
                                <td id="POInv8G{{$index}}">
                                    <span style="position: relative; display: inline-block; padding-left: 15px;" ng-repeat="tableTax in tableGross.tableTaxes track by $index" >
                                        <input type="text"
                                               class="form-control main-bottom-border-number padding-top-3 input-padding-bottom"
                                               ng-model="tableTax.tableTaxRatePercentage"
                                               percentage id="POInv8G{{$index}}TR"
                                               placeholder="Tax Rate">
                                    </span>
                                </td>
                                <td id="POInv9G{{$index}}">
                                    <span style="position: relative;display: inline-block;padding-right: 25px;" ng-repeat="tableTax in tableGross.tableTaxes track by $index" ng-init="taxindex=$index" >
                                        <input type="text" id="POInv9G{{$index}}TA"
                                               class="form-control input-padding-bottom main-bottom-border-number padding-top-3 "
                                               price ng-change="onLineItemTaxChange()"
                                               ng-model="tableTax.tableTaxAmount"
                                               placeholder="Tax Amount">
                                        <span class="deleteGrossSpan">
                                            <a id="POInv9G{{$index}}DT" title="Delete item level tax"
                                               ng-click="deleteTax(invoielineitemindex,lineitemgrossindex,taxindex)">
                                                -
                                            </a>
                                        </span>
                                    </span>

                                </td>
                                <td id="POInv10G{{$index}}"></td>
                            </tr>
                            <tr ng-repeat-end=""></tr>
                        </tbody>
                        </table>

                        <span style="position: relative;" ng-if="clientInvoice">
                                        <a href="javascript:void(0)" title="Add more invoice level charges"
                                           ng-click="addMoreInvoiceGross()"
                                           style="left: -25px;top: 5px;" id="POInvAMIG"
                                           class="btn btn-sm btn-default addGross">+</a>
                        </span>
                        <table  ng-if="clientInvoice" class="table boldtable table-responsive table-bordered table-hover additionalInvoiceLevelCharges">
                            <thead class="data-grid-header">
                            <tr>
                                <th id="POInv1TGH" class="text-center">&nbsp;&nbsp;</th>
                                <th id="POInv2TGH" class="text-center">&nbsp;&nbsp;</th>
                                <th id="POInv3TGH" class="text-center">&nbsp;&nbsp;</th>
                                <th id="POInv4TGH" class="text-center">&nbsp;&nbsp;</th>
                                <th id="POInv5TGH" class="text-center">&nbsp;&nbsp;</th>
                                <th id="POInv6TGH" class="text-center">&nbsp;&nbsp;</th>
                                <th id="POInv7TGH" class="text-center">&nbsp;&nbsp;</th>
                                <th id="POInv8TGH" class="text-center">&nbsp;&nbsp;</th>
                            </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="tableGross in tableGrosses track by $index"
                                    ng-init="invoicegrossindex=$index" style="border-bottom: 2px solid gray;">
                                    <td id="POInv1TG{{$index}}">
                                        <select required
                                                name="invoicegrosstype" ng-model="tableGross.tableGrossType"
                                                id="POInv1TG{{$index}}GT"
                                                class="darkgrey-bottom-border full-width"
                                                ng-options="option as option.tableGrossTypeString for option in invoiceLevelAdditionalGrossTypes track  by option.idtableGrossTypeId">
                                            <option value="" disabled selected style="display: none;">Select charge</option>
                                        </select>
                                    </td>
                                    <td id="POInv2TG{{$index}}">
                                        <input type="text"
                                               class="form-control main-bottom-border-number padding-top-3 margin-top-2"
                                               price id="POInv2TG{{$index}}GA"
                                               ng-change="onInvoiceDiscountChange(invoicegrossindex)"
                                               ng-model="tableGross.tableGrossAmount" placeholder="Gross">
                                    </td>
                                    <td id="POInv3TG{{$index}}">
                                        <span class="addGrossSpan">
                                            <a id="POInv3TG{{$index}}AMID" title="Add more invoice level discount"
                                               ng-click="addMoreInvoiceDiscount(invoicegrossindex)">
                                                +
                                            </a>
                                        </span>
                                        <span ng-repeat="tableDiscount in tableGross.tableDiscounts track by $index"
                                              ng-init="invoicediscountindex=$index"
                                              style="position: relative; display: inline-block; padding-left: 15px;padding-right: 15px;">
                                                    <input type="text"
                                                        class="form-control input-padding-bottom main-bottom-border-number padding-top-3 margin-top-2"
                                                        price id="POInv3TG{{$index}}Dscnt"
                                                        ng-change="onInvoiceDiscountChange(invoicegrossindex)"
                                                        ng-model="tableDiscount.tableDiscountAmount"
                                                        placeholder="Discount">
                                                    <span class="deleteGrossSpan">
                                                        <a id="POInv3TG{{$index}}DID" title="Delete invoice level discount"
                                                           ng-click="deleteInvoiceDiscount(invoicegrossindex,invoicediscountindex)">
                                                            -
                                                        </a>
                                                    </span>
                                        </span>
                                    </td>
                                    <td id="POInv4TG{{$index}}">
                                        <input type="text"
                                               readonly id="POInv4TG{{$index}}NA"
                                               class="form-control main-bottom-border-number padding-top-3 margin-top-2"
                                               value="{{netInvoiceLevelAmounts[invoicegrossindex] | priceOrHyphen}}"
                                               placeholder="Net Amount">
                                    </td>
                                    <td id="POInv5TG{{$index}}">
                                         <span class="addGrossSpan">
                                             <a id="POInv5TG{{$index}}AMIT" title="Add more invoice level tax"
                                                ng-click="addMoreInvoiceTax(invoicegrossindex)">
                                                 +
                                             </a>
                                         </span>
                                        <span style="position: relative; display: inline-block; padding-left: 15px;" ng-repeat="tableTax in tableGross.tableTaxes track by $index"
                                              ng-init="invoicetaxindex=$index">
                                              <input type="text" id="POInv5TG{{$index}}TT"
                                                     class="form-control input-padding-bottom main-bottom-border padding-top-3 "
                                                     ng-model="tableTax.tableTaxType"
                                                     placeholder="Tax Type">
                                        </span>

                                    </td>
                                    <td id="POInv6TG{{$index}}">
                                        <span style="position: relative; display: inline-block; padding-left: 15px;" ng-repeat="tableTax in tableGross.tableTaxes track by $index"
                                              ng-init="invoicetaxindex=$index">
                                                <input type="text" id="POInv6TG{{$index}}TR"
                                                       class="form-control input-padding-bottom main-bottom-border-number padding-top-3"
                                                       ng-model="tableTax.tableTaxRatePercentage"
                                                       percentage
                                                       placeholder="Tax Rate">
                                        </span>
                                    </td>
                                    <td id="POInv7TG{{$index}}">
                                        <span style="position: relative; display: inline-block; padding-right: 25px;" ng-repeat="tableTax in tableGross.tableTaxes track by $index"
                                              ng-init="invoicetaxindex=$index">
                                            <input type="text"
                                                   class="form-control input-padding-bottom main-bottom-border-number padding-top-3"
                                                   price id="POInv7TG{{$index}}TA"
                                                   ng-change="onInvoiceTaxChange()"
                                                   ng-model="tableTax.tableTaxAmount"
                                                   placeholder="Tax Amount">
                                            <span class="deleteGrossSpan">
                                                <a id="POInv7TG{{$index}}DIT" title="Delete invoice level tax"
                                                   ng-click="deleteInvoiceTax(invoicegrossindex,invoicetaxindex)">
                                                    -
                                                </a>
                                            </span>
                                        </span>
                                    </td>
                                    <td id="POInv8TG{{$index}}" style="text-align: center;">
                                    <span id="POInv8TG{{$index}}DIC" title="Delete invoice level charges" class="fa fa-trash fa-lg"
                                          ng-click="deleteInvoiceChargesItem($index)"></span>

                                    </td>
                                </tr>
                            </tbody>
                        </table>


                        <table id="totalTable" ng-if="clientInvoice"
                               class="table boldtable table-responsive table-bordered table-hover invoiceTable">
                            <thead class="data-grid-header">
                            <tr>
                                <th id="POInvT1H" class="text-center">&nbsp;&nbsp;</th>
                                <th id="POInvT2H" class="text-center">&nbsp;&nbsp;</th>
                                <th id="POInvT3H" class="text-center">&nbsp;&nbsp;</th>
                                <th id="POInvT4H" class="text-center">Total Gross</th>
                                <th id="POInvT5H" class="text-center">Total&nbsp;Discount</th>
                                <th id="POInvT6H" class="text-center">Total Net</th>
                                <th id="POInvT7H" class="text-center"></th>
                                <th id="POInvT8H" class="text-center"></th>
                                <th id="POInvT9H" class="text-center">Total Tax</th>
                                <th id="POInvT10H" class="text-center"></th>
                            </tr>
                            </thead>

                            <tbody class="data-grid-data invoiceDataTableBody">
                            <tr>
                                <td id="POInvT1B"></td>
                                <td id="POInvT2B"></td>
                                <td id="POInvT3B"></td>
                                <td id="POInvT4B" class="text-right">{{totalGross|priceOrHyphen}}</td>
                                <td id="POInvT5B" class="text-right">{{totalDiscount|priceOrHyphen}}</td>
                                <td id="POInvT6B" class="text-right">{{totalNet|priceOrHyphen}}</td>
                                <td id="POInvT7B"></td>
                                <td id="POInvT8B"></td>
                                <td id="POInvT9B" class="text-right">{{totalTax|priceOrHyphen}}</td>
                                <td id="POInvT10B"></td>
                            </tr>
                            </tbody>
                        </table>


                        <div class="full-width" style="background: #f5f5f5;">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 no-padding">
                                <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12" style="padding-top:15px;">
                                    <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12 no-padding">

                                        <label class="custom-file-upload">
                                            <input id="POInvImage" type="file" onchange="angular.element(this).scope().uploadFileInput(this)"/>
                                            <i class="fa fa-camera"></i> Choose Invoice Image
                                        </label>
                                    </div>
                                    <!-- <button id="POInvAddImage" type="button" class="btn btn-default btn-line-item btn-add-invoice-image" ng-click="getImageValue()">Add</button> -->
                                </div>
                                <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12 image-thumbnail-preview">
                                    <div class="full-width">
                                        <h4 ng-if="fida">{{contented}}</h4>
                                        <h3 ng-if="!multipleImagesList.length" class="borderDotted text-center">No Image Selected</h3>
                                        <ul class="list-inline" ng-if="multipleImagesList.length">
                                            <li ng-repeat="imaging in multipleImagesList track by $index" >
                                                <span id="POInvRemImage" class="fa fa-times deleteIcon" ng-click="removeImageItem($index)"></span>
                                                <img ng-src="{{imaging.imgSrc}}" width="50px" height="50px;"/>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="full-width" ng-if="invoiceMode=='edit'">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 no-padding">
                                <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12" style="padding-top:15px;">
                                    <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12 no-padding">
                                        <a id="POInvViewImage" ng-click="onViewInvoiceImageClicked()">Click to view invoice image</a></td>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="modal-footer" style="background-color: #30373B; min-height: 60px;">
                <button id="POInvCancel2" type="button" class="cancel-btn" data-dismiss="modal" ng-click="cancelPurchaseInvoice()">
                    Cancel
                </button>
                <button id="POInvSubmit" type="submit" class="action-btn" ng-if="invoiceMode=='add'">Save
                </button>
                <button id="POInvUpdate" type="submit" class="action-btn" ng-if="invoiceMode=='edit'">Update
                </button>
            </div>
        </div>
    </form>
</div>
