<script type="text/ng-template" id="cancelReturnableGoodsOrder.tmpl.html" >
    <md-dialog aria-label="Cancel Returnable Goods Order" style="width: 800px; position: relative;" ng-cloak>
        <form novalidate>
            <md-toolbar style="background-color: #F2F7F8;">
                <div class="md-toolbar-tools">
                    <p style="font-size: 20px;font-weight: 600;color: #30373B;">Cancel Returnable Goods Order</p>
                    <span flex></span>
                    <md-button class="md-icon-button" ng-click="hideCancelDialog()">
                        <md-icon md-svg-src="images/svg/cancel.svg" aria-label="Close dialog"></md-icon>
                    </md-button>
                </div>
            </md-toolbar>

            <md-dialog-content>
                <div class="md-dialog-content">
                    <div class="row row-margin-top-small">
                        <div class="col-md-3">
                            <span class="font">Order No.</span>
                        </div>
                        <div class="col-md-5">
                            <input type="text" style="color: #F0592B;font-size: 16px; font-weight: 700; padding-top: 0px;" ng-model="orderNo" ng-readonly="true"></input>
                        </div>
                    </div>
                    <div class="row row-margin-top-medium">
                        <div class="col-md-3">
                            <span class="font">Cancel Reason</span>
                        </div>
                        <div class="col-md-5">
                            <select required
                                    name="cancelReason" ng-model="genericData.selectedCancelReason"
                                    class="form-control add-single-order-select"
                                    ng-options="option as option.tableReturnableGoodsOrderCancelReasonString for option in cancelReasonArray">
                                <option value="" disabled selected style="display: none;">Select cancel reason</option>
                            </select>

                            <div class="full-width" ng-if = "genericData.selectedCancelReason.tableReturnableGoodsOrderCancelReasonString == 'Other'">
                                <textarea caps class="form-control" style="margin-top: 15px;" ng-model="genericData.selectedCancelReason.tableReturnableGoodsOrderCancelReasonString" ></textarea>
                                <md-checkbox role="checkbox" ng-model="genericData.addCancelReasonToList" style="margin-top:10px;font-size: 13px;">Add this reason to the cancel reason list</md-checkbox>
                            </div>

                        </div>
                    </div>
                </div>
            </md-dialog-content>
            <md-dialog-actions style="background-color: #30373B; min-height: 60px;" layout="row">
                <span flex></span>
                <button class="action-btn" ng-click="cancelReturnableGoodsOrder();">
                    Confirm
                </button>
            </md-dialog-actions>
        </form>
    </md-dialog>
</script>
<div class="modal fade" id="cancelReturnableGoodsOrder" role="dialog" data-backdrop="static" data-keyboard="false"
     aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <form name="cancelRGForm" accessible-form novalidate ng-submit="cancelRGForm.$valid && cancelReturnableGoodsOrder(cancelRGForm);">
            <div class="modal-content">
                <!-- Modal Header -->
                <div class="modal-header" style="background-color: #F2F7F8; padding-bottom: 0px !important;"
                     height="100px">
                    <button id="RGCnclCancel1" type="button" class="close" data-dismiss="modal" ng-click="cancelWarehouseSelection(cancelRGForm)">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <p class="dialog-heading-p">Cancel Returnable Goods Order</p>
                </div>
                <div class="modal-body" style="overflow-x: hidden;padding-top: 0px">
                    <div class="row row-margin-top-small">
                        <div class="col-md-3">
                            <span class="font">Order No.</span>
                        </div>
                        <div class="col-md-5">
                            <input id="RGCnclNo" type="text" style="color: #F0592B;font-size: 16px; font-weight: 700; padding-top: 0px;" ng-model="orderNo" ng-readonly="true"></input>
                        </div>
                    </div>
                    <div class="row row-margin-top-medium">
                        <div class="col-md-3">
                            <span class="font">Cancel Reason</span>
                        </div>
                        <div class="col-md-5">
                            <select id="RGCnclReason" required name="cancelReason" ng-model="genericData.selectedCancelReason"
                                    class="form-control add-single-order-select"
                                    ng-options="option as option.tableReturnableGoodsOrderCancelReasonString for option in cancelReasonArray">
                                <option value="" disabled selected style="display: none;">Select cancel reason</option>
                            </select>
                            <div ng-if="cancelRGForm.$submitted && cancelRGForm.cancelReason.$error.required" class="full-width">
                                <span class="error-msg">
                                    Please select a valid reason
                                </span>
                            </div>
                            <div class="full-width" ng-if = "genericData.selectedCancelReason.tableReturnableGoodsOrderCancelReasonString == 'Other'">
                                <textarea id="RGCnclRText" name="cancelreasonString" required="true" caps class="form-control" style="margin-top: 15px;" ng-model="genericData.selectedCancelReason.tableReturnableGoodsOrderCancelReasonString" ></textarea>
                                <div ng-if="cancelRGForm.$submitted && cancelRGForm.cancelreasonString.$error.required" class="full-width">
                                    <span class="error-msg">
                                        Please enter the reason
                                    </span>
                                </div>
                                <md-checkbox id="RGCnclCheckbox" role="checkbox" ng-model="genericData.addCancelReasonToList" style="margin-top:10px;font-size: 13px;">Add this reason to the cancel reason list</md-checkbox>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="modal-footer" style="background-color: #30373B; min-height: 60px;">
                    <button id="RGCnclSubmit" type="submit" id="confirmCancel" class="action-btn" ng-click="selectCancelAction(orderId,tableSaleOrderId,remarks,LoadNewRason.reasonData);">
                        Confirm
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
